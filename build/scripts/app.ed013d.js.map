{"version":3,"sources":["webpack:///scripts/app.ed013d.js","webpack:///./app/components/home/article/articleList/articleList.ts","webpack:///./app/components/home/article/articleList/articleList.html","webpack:///./app/components/home/home.html","webpack:///./app/components/home/article/articleDetail/articleDetail.html","webpack:///./app/scripts/appConfig.ts","webpack:///./app/commons/ArticleLoad/ArticleListLoadService.ts","webpack:///./app/components/home/login/login.html","webpack:///./app/components/home/tag/tagList.html","webpack:///./app/components/home/home.ts","webpack:///./app/commons/ArticleLoad/ArticleLoadService.ts","webpack:///./app/components/home/article/articleEdit/articleEdit.ts","webpack:///./app/components/home/HomeCtrl.ts","webpack:///./app/components/home/article/articleEdit/ArticleEditCtrl.ts","webpack:///./app/components/home/article/articleDetail/ArticleDetailCtrl.ts","webpack:///./app/components/home/article/articleList/ArticleListCtrl.ts","webpack:///./app/scripts/appRun.ts","webpack:///./app/components/home/login/login.js","webpack:///./app/components/home/article/articleDetail/articleDetail.ts","webpack:///./app/languages/zh-cn.json","webpack:///./app/components/home/article/articleEdit/articleEdit.html","webpack:///./app/components/home/article/article.ts","webpack:///./app/scripts/appRoute.ts","webpack:///./app/styles/app.less","webpack:///./app/scripts/app.ts","webpack:///./app/commons/ArticleLoad/articleLoad.ts","webpack:///./app/languages/en-us.json"],"names":["webpackJsonp","/hsM","module","exports","__webpack_require__","Object","defineProperty","value","angular","ArticleListCtrl_1","articleLoad_1","default","controller","name","0yC9","3QxU","7Gem","9EYe","appConfig","$translateProvider","preferredLanguage","useSanitizeValueStrategy","useStaticFilesLoader","prefix","suffix","$inject","DCZT","ArticleListLoadService","Restangular","this","mLoadState","LoadState","ready","mOffset","limit","articles","prototype","load","_this","loading","promise","all","getList","offset","then","result","length","over","_i","result_1","article","push","catch","err","console","error","get","enumerable","configurable","E5ly","H5r+","LaJp","article_1","login_1","HomeCtrl_1","headerHeight","RX+t","ArticleLoadService","$sce","articleId","one","content","trustAsHtml","ReuB","ArticleEditCtrl_1","wangEditorDirective_1","W6eL","HomeCtrl","$rootScope","$document","$q","$translate","$state","navbar","initState","isNavCollapsed","isNavTransparent","document","body","scrollTop","bind","changeNavBg","$apply","$on","isInit","deferred","defer","reject","switchLang","currentLang","use","reload","XNqV","ArticleEditCtrl","tags","tagging","tag","Z1bN","ArticleDetailCtrl","$stateParams","loader","aFTt","ArticleListCtrl","$uibPosition","lastDate","bottom","viewportOffset","nowDate","Date","now","loadState","ba2E","appRun","localStorageService","setBaseUrl","token","$watch","newVal","setDefaultHeaders","set","bvZS","loginCtrl","$scope","submit","log","login","password","post","state","_angular","_angular2","obj","__esModule","cJFi","ArticleDetailCtrl_1","cw+6","p","eSIs","fBz2","articleList_1","articleEdit_1","articleDetail_1","hM64","appRoute","$stateProvider","$urlRouterProvider","enterLogin","exitLogin","when","otherwise","url","template","homeHtml","controllerAs","abstract","articleListHtml","articleDetailHtml","articleEditHtml","tagListHtml","loginHtml","onEnter","onExit","l04R","m2IE","home_1","appConfig_1","appRoute_1","appRun_1","config","run","mFEl","ArticleLoadService_1","ArticleListLoadService_1","service","qtjg"],"mappings":"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","file":"scripts/app.ed013d.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"/hsM\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by 米饭 on 2017-03-08.\r\n */\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar angular = __webpack_require__(0);\r\nvar ArticleListCtrl_1 = __webpack_require__(\"aFTt\");\r\nvar articleLoad_1 = __webpack_require__(\"mFEl\");\r\nexports.default = angular.module('articleList', ['ui.bootstrap', 'restangular', articleLoad_1.default])\r\n    .controller('ArticleListCtrl', ArticleListCtrl_1.default)\r\n    .name;\r\n\n\n/***/ }),\n\n/***/ \"0yC9\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=article-list> <header class=\\\"jumbotron jumbotron-header\\\"> <h1>Hello, world!</h1> </header> <div class=\\\"container-fluid content\\\"> <div class=row> <div class=\\\"col-sm-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\\\"> <div class=\\\"panel panel-article\\\" ng-repeat=\\\"article in vm.loader.articles\\\"> <div class=panel-heading> <h3 class=article-title> <a ui-sref=home.articleDetail({articleId:article.id}) ng-bind=article.title></a> </h3> </div> <div class=panel-body ng-bind=article.outline></div> <div class=panel-tag> <div class=\\\"article-tag pull-left\\\"> <span class=\\\"glyphicon glyphicon-tag\\\" aria-hidden=true></span> <a href=\\\"\\\" class=\\\"label label-transparent\\\">UI</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">UI</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">UI</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">UI</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> </div> <span class=\\\"article-info pull-right\\\"> <span>米饭</span> <span>2017-03-03</span> </span> <div class=clearfix></div> </div> </div> <div ng-if=\\\"vm.loader.loadState=='loading'\\\" class=panel-loading>加载中……</div> <div ng-if=\\\"vm.loader.loadState=='over'\\\" class=panel-loading>没有更多了</div> </div> </div> </div> </div>\";\n\n/***/ }),\n\n/***/ \"3QxU\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"<nav class=\\\"navbar navbar-default navbar-fixed-top\\\" ng-class=\\\"{'navbar-transparent':vm.isNavTransparent, 'navbar-default':!vm.isNavTransparent}\\\" role=navigation> <div class=navbar-header> <button type=button class=navbar-toggle ng-click=\\\"vm.isNavCollapsed = !vm.isNavCollapsed\\\"> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> <a class=navbar-brand ui-sref=.articleList translate>米饭博客</a> </div> <div class=\\\"collapse navbar-collapse\\\" uib-collapse=vm.isNavCollapsed collapsing=vm.isInit()> <ul class=\\\"nav navbar-nav\\\"> <li class=active ui-sref-active=active> <a ui-sref=.articleList translate>文章</a> </li> <li ui-sref-active=active> <a ui-sref=.tagList translate>话题</a> </li> </ul> <ul class=\\\"nav navbar-nav navbar-right\\\"> <li> <a ui-sref=.articleEdit translate>发布</a> </li> <li> <a ui-sref=.login translate>登录</a> </li> </ul> </div> </nav> <div ui-view class=home-content></div> <footer class=main-footer> <div class=copyright> <span>Copyright &copy; 2017 <span translate>米饭博客</span></span> | <span> <a href=\\\"\\\" target=_blank>[<span translate>后台管理</span>]</a> </span> | <span> <a href=\\\"\\\" ng-click=vm.switchLang()>[<span translate>English</span>]</a> </span> </div> </footer>\";\n\n/***/ }),\n\n/***/ \"7Gem\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=article-detail> <header class=\\\"jumbotron jumbotron-header\\\"> <h1 ng-bind=vm.loader.article.title></h1> </header> <div class=\\\"container-fluid content\\\"> <div class=row> <div class=\\\"col-sm-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\\\"> <div class=article-content ng-bind-html=vm.loader.article.content> </div> </div> </div> <div class=row> <div class=\\\"col-sm-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\\\"> <div class=article-footer> <div class=\\\"article-tag pull-left\\\"> <span class=\\\"glyphicon glyphicon-tag\\\" aria-hidden=true></span> <a href=\\\"\\\" class=\\\"label label-transparent\\\">UI</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">UI</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">UI</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">UI</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> </div> <span class=\\\"article-info pull-right\\\"> <span ng-bind=vm.loader.article.author></span> <span ng-bind=\\\"vm.loader.article.create|date:'yyyy-MM-dd'\\\"></span> </span> </div> </div> </div> <div class=row> <div class=\\\"col-sm-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\\\"> <div class=article-discuss> <div class=\\\"panel panel-discuss\\\"> <div class=panel-heading> </div> <div class=panel-body> </div> </div> </div> </div> </div> </div> </div> \";\n\n/***/ }),\n\n/***/ \"9EYe\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by 米饭 on 2017-03-31.\r\n */\r\n\nappConfig.$inject = [\"$translateProvider\"];\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__webpack_require__(\"cw+6\");\r\n__webpack_require__(\"qtjg\");\r\n/*@ngInject*/\r\nfunction appConfig($translateProvider) {\r\n    $translateProvider.preferredLanguage('zh-cn'); //语言\r\n    $translateProvider.useSanitizeValueStrategy('sanitizeParameters'); //设置HTML转义策略,在有参数时清除\r\n    $translateProvider.useStaticFilesLoader({\r\n        prefix: 'languages/',\r\n        suffix: '.json'\r\n    });\r\n}\r\nexports.default = appConfig;\r\n\n\n/***/ }),\n\n/***/ \"DCZT\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by 米饭 on 2017-04-02.\r\n */\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar articleLoad_1 = __webpack_require__(\"mFEl\");\r\n/*@ngInject*/\r\nvar ArticleListLoadService = (function () {\n    ArticleListLoadService.$inject = [\"Restangular\"];\r\n    function ArticleListLoadService(Restangular) {\r\n        this.Restangular = Restangular;\r\n        this.mLoadState = articleLoad_1.LoadState.ready;\r\n        this.mOffset = 0;\r\n        /**\r\n         * 一次加载多少\r\n         * @type {number}\r\n         */\r\n        this.limit = 10;\r\n        /**\r\n         * 已加载的文章列表\r\n         * @type {Array}\r\n         */\r\n        this.articles = [];\r\n    }\r\n    /**\r\n     * 加载文章列表到articles\r\n     * @returns {ICollectionPromise<IArticle>} 如果loadState为loading，则不会继续加载，返回null\r\n     */\r\n    ArticleListLoadService.prototype.load = function () {\r\n        var _this = this;\r\n        if (this.mLoadState != articleLoad_1.LoadState.ready) {\r\n            return null;\r\n        }\r\n        this.mLoadState = articleLoad_1.LoadState.loading;\r\n        var promise = this.Restangular.all(\"articles\").getList({ offset: this.offset, limit: this.limit });\r\n        promise.then(function (result) {\r\n            if (result.length === 0) {\r\n                _this.mLoadState = articleLoad_1.LoadState.over;\r\n                return;\r\n            }\r\n            for (var _i = 0, result_1 = result; _i < result_1.length; _i++) {\r\n                var article = result_1[_i];\r\n                _this.articles.push(article);\r\n            }\r\n            _this.mOffset += _this.limit;\r\n            _this.mLoadState = articleLoad_1.LoadState.ready;\r\n        }).catch(function (err) {\r\n            _this.mLoadState = articleLoad_1.LoadState.ready;\r\n            console.error(\"加载articleList错误:\" + err);\r\n        });\r\n        return promise;\r\n    };\r\n    Object.defineProperty(ArticleListLoadService.prototype, \"loadState\", {\r\n        /**\r\n         * 当前加载状态\r\n         * @returns {LoadState}\r\n         */\r\n        get: function () {\r\n            return this.mLoadState;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ArticleListLoadService.prototype, \"offset\", {\r\n        /**\r\n         * 已经加载到了多少\r\n         * @returns {number}\r\n         */\r\n        get: function () {\r\n            return this.mOffset;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ArticleListLoadService;\r\n}());\r\nexports.default = ArticleListLoadService;\r\n\n\n/***/ }),\n\n/***/ \"E5ly\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=login> <div class=\\\"container-fluid content\\\"> <div class=row> <div class=\\\"col-sm-6 col-sm-offset-3 col-lg-4 col-lg-offset-4\\\"> <div class=\\\"panel panel-login\\\"> <div class=panel-heading> <h3 class=article-title translate> 登录 </h3> </div> <div class=panel-body> <form name=loginForm ng-submit=submit()> <div class=form-group> <label for=username translate>用户名</label> <input type=text class=form-control id=username ng-minlength=5 ng-model=login.username required> </div> <div class=form-group> <label for=password translate>密码</label> <input type=password class=form-control id=password ng-minlength=3 ng-model=login.password required> </div> <div class=form-group> <button class=\\\"btn btn-main btn-block\\\" type=submit translate>登录</button> </div> </form> </div> </div> </div> </div> </div> </div>\";\n\n/***/ }),\n\n/***/ \"H5r+\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=tag-list> <header class=\\\"jumbotron jumbotron-header\\\"> <h1 translate>话题</h1> </header> <div class=\\\"container content\\\"> <div class=row> <div class=col-xs-12> <div class=\\\"panel panel-tag\\\"> <div class=panel-heading> <span class=tag-title>A</span> </div> <div class=panel-body> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Ajax</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Android</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">App</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">阿里巴巴</a> </div> </div> <div class=\\\"panel panel-tag\\\"> <div class=panel-heading> <span class=tag-title>B</span> </div> <div class=panel-body> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Bootstrap</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Bower</a> </div> </div> <div class=\\\"panel panel-tag\\\"> <div class=panel-heading> <span class=tag-title>B</span> </div> <div class=panel-body> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> </div> </div> </div> </div> </div> </div>\";\n\n/***/ }),\n\n/***/ \"LaJp\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by 米饭 on 2017-03-07.\r\n */\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar angular = __webpack_require__(0);\r\nvar article_1 = __webpack_require__(\"fBz2\");\r\nvar login_1 = __webpack_require__(\"bvZS\");\r\nvar HomeCtrl_1 = __webpack_require__(\"W6eL\");\r\nexports.default = angular.module('home', ['ngAnimate', 'ui.bootstrap', 'ui.router', article_1.default, login_1.default])\r\n    .controller('HomeCtrl', HomeCtrl_1.default)\r\n    .value('navbar', { headerHeight: 350 })\r\n    .name;\r\n\n\n/***/ }),\n\n/***/ \"RX+t\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by 米饭 on 2017-04-02.\r\n */\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar articleLoad_1 = __webpack_require__(\"mFEl\");\r\n/*@ngInject*/\r\nvar ArticleLoadService = (function () {\n    ArticleLoadService.$inject = [\"Restangular\", \"$sce\"];\r\n    function ArticleLoadService(Restangular, $sce) {\r\n        this.Restangular = Restangular;\r\n        this.$sce = $sce;\r\n        this.mLoadState = articleLoad_1.LoadState.ready;\r\n    }\r\n    /**\r\n     *\r\n     * @param articleId 需要加载article的id\r\n     * @returns {IPromise<IArticle>}\r\n     */\r\n    ArticleLoadService.prototype.load = function (articleId) {\r\n        var _this = this;\r\n        var promise = this.Restangular.one(\"articles\", articleId).get();\r\n        promise.then(function (result) {\r\n            _this.article = result;\r\n            _this.article.content = _this.$sce.trustAsHtml(_this.article.content);\r\n        }).catch(function (err) {\r\n            console.error('加载articleDetail错误:' + err);\r\n        });\r\n        return promise;\r\n    };\r\n    Object.defineProperty(ArticleLoadService.prototype, \"loadState\", {\r\n        /**\r\n         * 当前加载状态\r\n         * @returns {LoadState}\r\n         */\r\n        get: function () {\r\n            return this.mLoadState;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ArticleLoadService;\r\n}());\r\nexports.default = ArticleLoadService;\r\n\n\n/***/ }),\n\n/***/ \"ReuB\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by 米饭 on 2017-03-17.\r\n */\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar angular = __webpack_require__(0);\r\nvar ArticleEditCtrl_1 = __webpack_require__(\"XNqV\");\r\nvar wangEditorDirective_1 = __webpack_require__(\"eZkf\");\r\nexports.default = angular.module('articleEdit', ['ui.select', 'ngSanitize', wangEditorDirective_1.default])\r\n    .controller('ArticleEditCtrl', ArticleEditCtrl_1.default)\r\n    .name;\r\n\n\n/***/ }),\n\n/***/ \"W6eL\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by 米饭 on 2017-03-31.\r\n */\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/*@ngInject*/\r\nvar HomeCtrl = (function () {\r\n    /**\r\n     *\r\n     * @param $rootScope\r\n     * @param $document\r\n     * @param $q\r\n     * @param $translate\r\n     * @param $state\r\n     * @param navbar 导航条透明位置\r\n     */\n    HomeCtrl.$inject = [\"$rootScope\", \"$document\", \"$q\", \"$translate\", \"$state\", \"navbar\"];\r\n    function HomeCtrl($rootScope, $document, $q, $translate, $state, navbar) {\r\n        var _this = this;\r\n        this.$rootScope = $rootScope;\r\n        this.$document = $document;\r\n        this.$q = $q;\r\n        this.$translate = $translate;\r\n        this.$state = $state;\r\n        this.navbar = navbar;\r\n        this.initState = true;\r\n        this.isNavCollapsed = true;\r\n        this.isNavTransparent = false;\r\n        this.isNavTransparent = document.body.scrollTop < navbar.headerHeight;\r\n        $document.bind(\"scroll\", function () {\r\n            _this.changeNavBg();\r\n            $rootScope.$apply();\r\n        });\r\n        $rootScope.$on(\"$locationChangeStart\", function () {\r\n            _this.isNavCollapsed = true;\r\n            _this.changeNavBg();\r\n        });\r\n    }\r\n    /**\r\n     * collapse初始会自动执行一次，不知道啥原因，把自动执行的停止\r\n     * @returns {IPromise<{}>}\r\n     */\r\n    HomeCtrl.prototype.isInit = function () {\r\n        if (this.initState) {\r\n            var deferred = this.$q.defer();\r\n            deferred.reject();\r\n            this.initState = false;\r\n            return deferred.promise;\r\n        }\r\n    };\r\n    /**\r\n     * 切换语言\r\n     */\r\n    HomeCtrl.prototype.switchLang = function () {\r\n        var _this = this;\r\n        if (this.$rootScope.currentLang !== \"en-us\") {\r\n            this.$rootScope.currentLang = \"en-us\";\r\n        }\r\n        else {\r\n            this.$rootScope.currentLang = \"zh-cn\";\r\n        }\r\n        this.$translate.use(this.$rootScope.currentLang).then(function () { return _this.$state.reload(); });\r\n    };\r\n    /**\r\n     * 根据现在位置设置导航栏背景色\r\n     */\r\n    HomeCtrl.prototype.changeNavBg = function () {\r\n        if (document.body.scrollTop >= this.navbar.headerHeight && this.isNavTransparent) {\r\n            this.isNavTransparent = false;\r\n        }\r\n        else if (document.body.scrollTop < this.navbar.headerHeight && !this.isNavTransparent) {\r\n            this.isNavTransparent = true;\r\n        }\r\n    };\r\n    return HomeCtrl;\r\n}());\r\nexports.default = HomeCtrl;\r\n\n\n/***/ }),\n\n/***/ \"XNqV\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by 米饭 on 2017-04-01.\r\n */\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/*@ngInject*/\r\nvar ArticleEditCtrl = (function () {\n    ArticleEditCtrl.$inject = [\"Restangular\"];\r\n    function ArticleEditCtrl(Restangular) {\r\n        var _this = this;\r\n        Restangular.one(\"tags\").get().then(function (result) {\r\n            _this.tags = result;\r\n        }, function (err) {\r\n            console.error('加载tagList错误:' + err);\r\n        });\r\n    }\r\n    ArticleEditCtrl.tagging = function (tag) {\r\n        return { name: tag };\r\n    };\r\n    return ArticleEditCtrl;\r\n}());\r\nexports.default = ArticleEditCtrl;\r\n\n\n/***/ }),\n\n/***/ \"Z1bN\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by 米饭 on 2017-04-01.\r\n */\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/*@ngInject*/\r\nvar ArticleDetailCtrl = (function () {\n    ArticleDetailCtrl.$inject = [\"$stateParams\", \"ArticleLoadService\"];\r\n    function ArticleDetailCtrl($stateParams, ArticleLoadService) {\r\n        ArticleLoadService.load($stateParams.articleId);\r\n        this.loader = ArticleLoadService;\r\n    }\r\n    return ArticleDetailCtrl;\r\n}());\r\nexports.default = ArticleDetailCtrl;\r\n\n\n/***/ }),\n\n/***/ \"aFTt\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by 米饭 on 2017-04-02.\r\n */\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar articleLoad_1 = __webpack_require__(\"mFEl\");\r\n/*@ngInject*/\r\nvar ArticleListCtrl = (function () {\n    ArticleListCtrl.$inject = [\"$uibPosition\", \"$document\", \"ArticleListLoadService\"];\r\n    function ArticleListCtrl($uibPosition, $document, ArticleListLoadService) {\r\n        var _this = this;\r\n        this.loader = ArticleListLoadService;\r\n        this.loader.load();\r\n        var lastDate = 0;\r\n        $document.bind('scroll', function () {\r\n            var bottom = $uibPosition.viewportOffset(document.body).bottom;\r\n            //限制加载频率\r\n            var nowDate = Date.now();\r\n            if (bottom > -300 && nowDate - lastDate > 500 && _this.loader.loadState === articleLoad_1.LoadState.ready) {\r\n                lastDate = nowDate;\r\n                _this.loader.load();\r\n            }\r\n        });\r\n    }\r\n    return ArticleListCtrl;\r\n}());\r\nexports.default = ArticleListCtrl;\r\n\n\n/***/ }),\n\n/***/ \"ba2E\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by 米饭 on 2017-03-31.\r\n */\r\n\nappRun.$inject = [\"Restangular\", \"$translate\", \"localStorageService\", \"$rootScope\"];\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/*@ngInject*/\r\nfunction appRun(Restangular, $translate, localStorageService, $rootScope) {\r\n    Restangular.setBaseUrl('http://192.168.1.130:8080/myblog');\r\n    $rootScope.token = localStorageService.get('token');\r\n    $rootScope.$watch('token', function (newVal) {\r\n        Restangular.setDefaultHeaders({ token: newVal });\r\n        localStorageService.set('token', newVal);\r\n    });\r\n    $rootScope.token = localStorageService.get('token');\r\n    $rootScope.$watch('token', function (newVal) {\r\n        Restangular.setDefaultHeaders({ token: newVal });\r\n        localStorageService.set('token', newVal);\r\n    });\r\n    $rootScope.currentLang = localStorageService.get('currentLang') || 'zh-cn';\r\n    $rootScope.$watch('currentLang', function (newVal) {\r\n        if (newVal === null) {\r\n            return;\r\n        }\r\n        localStorageService.set('currentLang', newVal);\r\n        $translate.use($rootScope.currentLang);\r\n    });\r\n}\r\nexports.default = appRun;\r\n\n\n/***/ }),\n\n/***/ \"bvZS\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nloginCtrl.$inject = [\"$scope\", \"Restangular\"];\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _angular = __webpack_require__(0);\n\nvar _angular2 = _interopRequireDefault(_angular);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _angular2.default.module('login', ['restangular']).controller('LoginCtrl', loginCtrl).name;\n\n/*@ngInject*/\n/**\r\n* Created by 米饭 on 2017-03-15.\r\n*/\n\nfunction loginCtrl($scope, Restangular) {\n    $scope.login = {};\n    $scope.submit = submit;\n\n    function submit() {\n        console.log($scope.login.password);\n\n        Restangular.one(\"users\").post('token', $scope.login).then(function (result) {}, function (err) {\n            console.error('登录失败:' + err.state);\n        });\n    }\n}\n\n/***/ }),\n\n/***/ \"cJFi\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by 米饭 on 2017-03-08.\r\n */\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar angular = __webpack_require__(0);\r\nvar ArticleDetailCtrl_1 = __webpack_require__(\"Z1bN\");\r\nexports.default = angular.module('articleDetail', ['restangular'])\r\n    .controller('ArticleDetailCtrl', ArticleDetailCtrl_1.default)\r\n    .name;\r\n\n\n/***/ }),\n\n/***/ \"cw+6\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"/languages/zh-cn.json\";\n\n/***/ }),\n\n/***/ \"eSIs\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=article-edit> <header class=\\\"jumbotron jumbotron-header\\\"> <h1></h1> </header> <div class=\\\"container-fluid content\\\"> <div class=row> <div class=\\\"col-sm-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\\\"> <div class=editor-article data-ng-model=editorContent content-editable> </div> <ui-select class=tag-select ng-model=selected.value multiple=multiple limit=5 tagging=tagging tagging-label=(新建)> <ui-select-match placeholder=\\\"{{'最多选择五项'|translate}}\\\"> <span ng-bind=$item.name></span> </ui-select-match> <ui-select-choices repeat=\\\"tag in tags | filter: $select.search\\\"> <span ng-if=!tag.isTag ng-bind-html=\\\"tag.name | highlight: $select.search\\\"></span> <span ng-if=tag.isTag ng-bind-html=\\\"tag.name+' '+$select.taggingLabel\\\"></span> </ui-select-choices> </ui-select> <button class=\\\"btn btn-main submit-article\\\" translate>提交文章</button> <button class=\\\"btn btn-default submit-article\\\" translate>预览文章</button> </div> </div> </div> </div> \";\n\n/***/ }),\n\n/***/ \"fBz2\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by 米饭 on 2017-03-17.\r\n */\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar angular = __webpack_require__(0);\r\nvar articleList_1 = __webpack_require__(\"/hsM\");\r\nvar articleEdit_1 = __webpack_require__(\"ReuB\");\r\nvar articleDetail_1 = __webpack_require__(\"cJFi\");\r\nexports.default = angular.module('article', [articleList_1.default, articleEdit_1.default, articleDetail_1.default]).name;\r\n\n\n/***/ }),\n\n/***/ \"hM64\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by 米饭 on 2017-03-05.\r\n */\r\n\nappRoute.$inject = [\"$stateProvider\", \"$urlRouterProvider\"];\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar homeHtml = __webpack_require__(\"3QxU\");\r\nvar articleListHtml = __webpack_require__(\"0yC9\");\r\nvar articleDetailHtml = __webpack_require__(\"7Gem\");\r\nvar articleEditHtml = __webpack_require__(\"eSIs\");\r\nvar tagListHtml = __webpack_require__(\"H5r+\");\r\nvar loginHtml = __webpack_require__(\"E5ly\");\r\n/*@ngInject*/\r\nfunction appRoute($stateProvider, $urlRouterProvider) {\n    enterLogin.$inject = [\"navbar\"];\n    exitLogin.$inject = [\"navbar\"];\r\n    $urlRouterProvider.when('/home', '/home/articleList').otherwise('/home/articleList');\r\n    $stateProvider\r\n        .state('home', {\r\n        url: '/home',\r\n        template: homeHtml,\r\n        controller: 'HomeCtrl',\r\n        controllerAs: 'vm',\r\n        abstract: true\r\n    })\r\n        .state('home.articleList', {\r\n        url: '/articleList',\r\n        template: articleListHtml,\r\n        controller: 'ArticleListCtrl',\r\n        controllerAs: 'vm'\r\n    })\r\n        .state('home.articleDetail', {\r\n        url: '/articleDetail/{articleId:[0-9]{1,6}}',\r\n        template: articleDetailHtml,\r\n        controller: 'ArticleDetailCtrl',\r\n        controllerAs: 'vm'\r\n    })\r\n        .state('home.articleEdit', {\r\n        url: '/articleEdit',\r\n        template: articleEditHtml,\r\n        controller: 'ArticleEditCtrl',\r\n        controllerAs: 'vm'\r\n    })\r\n        .state('home.tagList', {\r\n        url: '/tagList',\r\n        template: tagListHtml\r\n        // controller: 'TagListCtrl'\r\n    })\r\n        .state('home.login', {\r\n        url: '/login',\r\n        template: loginHtml,\r\n        controller: 'LoginCtrl',\r\n        controllerAs: 'vm',\r\n        onEnter: enterLogin,\r\n        onExit: exitLogin\r\n    });\r\n    /*@ngInject*/\r\n    function enterLogin(navbar) {\r\n        navbar.headerHeight = -10000; //永不透明\r\n    }\r\n    /*@ngInject*/\r\n    function exitLogin(navbar) {\r\n        navbar.headerHeight = 350;\r\n    }\r\n}\r\nexports.default = appRoute;\r\n\n\n/***/ }),\n\n/***/ \"l04R\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"m2IE\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by 米饭 on 2017-03-05.\r\n */\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// import \"../../node_modules/bootstrap/less/bootstrap.less\"\r\n__webpack_require__(\"l04R\");\r\nvar angular = __webpack_require__(0);\r\nvar home_1 = __webpack_require__(\"LaJp\");\r\nvar appConfig_1 = __webpack_require__(\"9EYe\");\r\nvar appRoute_1 = __webpack_require__(\"hM64\");\r\nvar appRun_1 = __webpack_require__(\"ba2E\");\r\nangular.module(\"myApp\", [\"pascalprecht.translate\", \"restangular\", \"ui.router\", \"LocalStorageModule\", home_1.default])\r\n    .config(appConfig_1.default)\r\n    .config(appRoute_1.default)\r\n    .run(appRun_1.default);\r\n\n\n/***/ }),\n\n/***/ \"mFEl\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by 米饭 on 2017-04-03.\r\n */\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar angular = __webpack_require__(0);\r\nvar ArticleLoadService_1 = __webpack_require__(\"RX+t\");\r\nvar ArticleListLoadService_1 = __webpack_require__(\"DCZT\");\r\nexports.default = angular.module(\"articleLoad\", [\"restangular\"])\r\n    .service(\"ArticleListLoadService\", ArticleListLoadService_1.default)\r\n    .service(\"ArticleLoadService\", ArticleLoadService_1.default)\r\n    .name;\r\nvar LoadState;\r\n(function (LoadState) {\r\n    LoadState[LoadState[\"ready\"] = 0] = \"ready\";\r\n    LoadState[LoadState[\"loading\"] = 1] = \"loading\";\r\n    LoadState[LoadState[\"over\"] = 2] = \"over\";\r\n})(LoadState = exports.LoadState || (exports.LoadState = {}));\r\n// export interface ITag {\r\n//     id: number;\r\n//     name: string;\r\n// } \r\n\n\n/***/ }),\n\n/***/ \"qtjg\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"/languages/en-us.json\";\n\n/***/ })\n\n},[\"m2IE\"]);\n\n\n// WEBPACK FOOTER //\n// scripts/app.ed013d.js","/**\r\n * Created by 米饭 on 2017-03-08.\r\n */\r\n\r\n\r\nimport * as angular from \"angular\";\r\n\r\nimport ArticleListCtrl from './ArticleListCtrl';\r\nimport articleLoad from '../../../../commons/ArticleLoad/articleLoad';\r\n\r\nexport default angular.module('articleList', ['ui.bootstrap', 'restangular', articleLoad])\r\n    .controller('ArticleListCtrl',  ArticleListCtrl)\r\n    .name;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/components/home/article/articleList/articleList.ts","module.exports = \"<div class=article-list> <header class=\\\"jumbotron jumbotron-header\\\"> <h1>Hello, world!</h1> </header> <div class=\\\"container-fluid content\\\"> <div class=row> <div class=\\\"col-sm-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\\\"> <div class=\\\"panel panel-article\\\" ng-repeat=\\\"article in vm.loader.articles\\\"> <div class=panel-heading> <h3 class=article-title> <a ui-sref=home.articleDetail({articleId:article.id}) ng-bind=article.title></a> </h3> </div> <div class=panel-body ng-bind=article.outline></div> <div class=panel-tag> <div class=\\\"article-tag pull-left\\\"> <span class=\\\"glyphicon glyphicon-tag\\\" aria-hidden=true></span> <a href=\\\"\\\" class=\\\"label label-transparent\\\">UI</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">UI</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">UI</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">UI</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> </div> <span class=\\\"article-info pull-right\\\"> <span>米饭</span> <span>2017-03-03</span> </span> <div class=clearfix></div> </div> </div> <div ng-if=\\\"vm.loader.loadState=='loading'\\\" class=panel-loading>加载中……</div> <div ng-if=\\\"vm.loader.loadState=='over'\\\" class=panel-loading>没有更多了</div> </div> </div> </div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/components/home/article/articleList/articleList.html\n// module id = 0yC9\n// module chunks = 0","module.exports = \"<nav class=\\\"navbar navbar-default navbar-fixed-top\\\" ng-class=\\\"{'navbar-transparent':vm.isNavTransparent, 'navbar-default':!vm.isNavTransparent}\\\" role=navigation> <div class=navbar-header> <button type=button class=navbar-toggle ng-click=\\\"vm.isNavCollapsed = !vm.isNavCollapsed\\\"> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> <a class=navbar-brand ui-sref=.articleList translate>米饭博客</a> </div> <div class=\\\"collapse navbar-collapse\\\" uib-collapse=vm.isNavCollapsed collapsing=vm.isInit()> <ul class=\\\"nav navbar-nav\\\"> <li class=active ui-sref-active=active> <a ui-sref=.articleList translate>文章</a> </li> <li ui-sref-active=active> <a ui-sref=.tagList translate>话题</a> </li> </ul> <ul class=\\\"nav navbar-nav navbar-right\\\"> <li> <a ui-sref=.articleEdit translate>发布</a> </li> <li> <a ui-sref=.login translate>登录</a> </li> </ul> </div> </nav> <div ui-view class=home-content></div> <footer class=main-footer> <div class=copyright> <span>Copyright &copy; 2017 <span translate>米饭博客</span></span> | <span> <a href=\\\"\\\" target=_blank>[<span translate>后台管理</span>]</a> </span> | <span> <a href=\\\"\\\" ng-click=vm.switchLang()>[<span translate>English</span>]</a> </span> </div> </footer>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/components/home/home.html\n// module id = 3QxU\n// module chunks = 0","module.exports = \"<div class=article-detail> <header class=\\\"jumbotron jumbotron-header\\\"> <h1 ng-bind=vm.loader.article.title></h1> </header> <div class=\\\"container-fluid content\\\"> <div class=row> <div class=\\\"col-sm-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\\\"> <div class=article-content ng-bind-html=vm.loader.article.content> </div> </div> </div> <div class=row> <div class=\\\"col-sm-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\\\"> <div class=article-footer> <div class=\\\"article-tag pull-left\\\"> <span class=\\\"glyphicon glyphicon-tag\\\" aria-hidden=true></span> <a href=\\\"\\\" class=\\\"label label-transparent\\\">UI</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">UI</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">UI</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">UI</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> </div> <span class=\\\"article-info pull-right\\\"> <span ng-bind=vm.loader.article.author></span> <span ng-bind=\\\"vm.loader.article.create|date:'yyyy-MM-dd'\\\"></span> </span> </div> </div> </div> <div class=row> <div class=\\\"col-sm-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\\\"> <div class=article-discuss> <div class=\\\"panel panel-discuss\\\"> <div class=panel-heading> </div> <div class=panel-body> </div> </div> </div> </div> </div> </div> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/components/home/article/articleDetail/articleDetail.html\n// module id = 7Gem\n// module chunks = 0","/**\r\n * Created by 米饭 on 2017-03-31.\r\n */\r\n\r\nimport * as angular from 'angular';\r\n\r\nimport '../languages/zh-cn.json';\r\nimport '../languages/en-us.json';\r\n\r\n/*@ngInject*/\r\nexport default function appConfig($translateProvider: angular.translate.ITranslateProvider) {\r\n\r\n    $translateProvider.preferredLanguage('zh-cn');//语言\r\n    $translateProvider.useSanitizeValueStrategy('sanitizeParameters');//设置HTML转义策略,在有参数时清除\r\n    $translateProvider.useStaticFilesLoader({\r\n        prefix: 'languages/',\r\n        suffix: '.json'\r\n    });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/scripts/appConfig.ts","/**\r\n * Created by 米饭 on 2017-04-02.\r\n */\r\n\r\nimport {ICollectionPromise, IService} from \"restangular\";\r\nimport {IArticle, LoadState} from \"./articleLoad\";\r\n\r\n\r\n\r\n/*@ngInject*/\r\nexport default class ArticleListLoadService {\r\n\r\n\r\n    private mLoadState: LoadState = LoadState.ready;\r\n    private mOffset: number = 0;\r\n    /**\r\n     * 一次加载多少\r\n     * @type {number}\r\n     */\r\n    limit = 10;\r\n\r\n    /**\r\n     * 已加载的文章列表\r\n     * @type {Array}\r\n     */\r\n    articles: Array<IArticle> = [];\r\n\r\n\r\n    constructor(private Restangular: IService) {\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 加载文章列表到articles\r\n     * @returns {ICollectionPromise<IArticle>} 如果loadState为loading，则不会继续加载，返回null\r\n     */\r\n    load(): ICollectionPromise<IArticle> | null {\r\n        if(this.mLoadState != LoadState.ready) {\r\n            return null;\r\n        }\r\n        this.mLoadState = LoadState.loading;\r\n        let promise = this.Restangular.all(\"articles\").getList<IArticle>({offset: this.offset, limit: this.limit});\r\n        promise.then((result: Array<IArticle>) => {\r\n\r\n            if(result.length === 0) {\r\n                this.mLoadState = LoadState.over;\r\n                return;\r\n            }\r\n            for(let article of result) {\r\n                this.articles.push(article);\r\n            }\r\n            this.mOffset += this.limit;\r\n            this.mLoadState = LoadState.ready;\r\n\r\n        }).catch((err) => {\r\n            this.mLoadState = LoadState.ready;\r\n            console.error(\"加载articleList错误:\" + err);\r\n        });\r\n        return promise;\r\n    }\r\n\r\n    /**\r\n     * 当前加载状态\r\n     * @returns {LoadState}\r\n     */\r\n    get loadState(): LoadState {\r\n        return this.mLoadState;\r\n    }\r\n\r\n    /**\r\n     * 已经加载到了多少\r\n     * @returns {number}\r\n     */\r\n    get offset(): number {\r\n        return this.mOffset;\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/commons/ArticleLoad/ArticleListLoadService.ts","module.exports = \"<div class=login> <div class=\\\"container-fluid content\\\"> <div class=row> <div class=\\\"col-sm-6 col-sm-offset-3 col-lg-4 col-lg-offset-4\\\"> <div class=\\\"panel panel-login\\\"> <div class=panel-heading> <h3 class=article-title translate> 登录 </h3> </div> <div class=panel-body> <form name=loginForm ng-submit=submit()> <div class=form-group> <label for=username translate>用户名</label> <input type=text class=form-control id=username ng-minlength=5 ng-model=login.username required> </div> <div class=form-group> <label for=password translate>密码</label> <input type=password class=form-control id=password ng-minlength=3 ng-model=login.password required> </div> <div class=form-group> <button class=\\\"btn btn-main btn-block\\\" type=submit translate>登录</button> </div> </form> </div> </div> </div> </div> </div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/components/home/login/login.html\n// module id = E5ly\n// module chunks = 0","module.exports = \"<div class=tag-list> <header class=\\\"jumbotron jumbotron-header\\\"> <h1 translate>话题</h1> </header> <div class=\\\"container content\\\"> <div class=row> <div class=col-xs-12> <div class=\\\"panel panel-tag\\\"> <div class=panel-heading> <span class=tag-title>A</span> </div> <div class=panel-body> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Ajax</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Android</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">App</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">阿里巴巴</a> </div> </div> <div class=\\\"panel panel-tag\\\"> <div class=panel-heading> <span class=tag-title>B</span> </div> <div class=panel-body> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Bootstrap</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Bower</a> </div> </div> <div class=\\\"panel panel-tag\\\"> <div class=panel-heading> <span class=tag-title>B</span> </div> <div class=panel-body> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> <a href=\\\"\\\" class=\\\"label label-transparent\\\">Angular</a> </div> </div> </div> </div> </div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/components/home/tag/tagList.html\n// module id = H5r+\n// module chunks = 0","/**\r\n * Created by 米饭 on 2017-03-07.\r\n */\r\n\r\n\r\nimport * as angular from \"angular\";\r\n\r\nimport article from './article/article';\r\nimport login from './login/login';\r\nimport HomeCtrl from './HomeCtrl';\r\n\r\n\r\nexport default angular.module('home', ['ngAnimate', 'ui.bootstrap', 'ui.router', article, login])\r\n    .controller('HomeCtrl',  HomeCtrl)\r\n    .value('navbar', {headerHeight: 350})\r\n    .name;\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/components/home/home.ts","/**\r\n * Created by 米饭 on 2017-04-02.\r\n */\r\n\r\nimport {IPromise, IService} from \"restangular\";\r\nimport {IArticle, LoadState} from \"./articleLoad\";\r\nimport {ISCEService} from \"angular\";\r\n\r\n\r\n\r\n/*@ngInject*/\r\nexport default class ArticleLoadService {\r\n\r\n\r\n    private mLoadState: LoadState = LoadState.ready;\r\n\r\n    /**\r\n     * 加载完后被装载数据的对象\r\n     */\r\n    article: IArticle;\r\n\r\n\r\n    constructor(private Restangular: IService, private $sce: ISCEService) {\r\n\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param articleId 需要加载article的id\r\n     * @returns {IPromise<IArticle>}\r\n     */\r\n    load(articleId: number): IPromise<IArticle> {\r\n        let promise =  this.Restangular.one(\"articles\", articleId).get<IArticle>();\r\n        promise.then((result: IArticle) => {\r\n            this.article = result;\r\n            this.article.content = this.$sce.trustAsHtml(this.article.content);\r\n\r\n        }).catch((err) => {\r\n            console.error('加载articleDetail错误:' + err);\r\n        });\r\n        return promise;\r\n    }\r\n\r\n    /**\r\n     * 当前加载状态\r\n     * @returns {LoadState}\r\n     */\r\n    get loadState(): LoadState {\r\n        return this.mLoadState;\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/commons/ArticleLoad/ArticleLoadService.ts","/**\r\n * Created by 米饭 on 2017-03-17.\r\n */\r\n\r\n\r\nimport * as angular from 'angular';\r\n\r\nimport ArticleEditCtrl from './ArticleEditCtrl';\r\n\r\nimport wangEditorDirective from '../../../../commons/wangEditor/wangEditorDirective';\r\n\r\n\r\nexport default angular.module('articleEdit', ['ui.select', 'ngSanitize', wangEditorDirective])\r\n    .controller('ArticleEditCtrl', ArticleEditCtrl)\r\n    .name;\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/components/home/article/articleEdit/articleEdit.ts","/**\r\n * Created by 米饭 on 2017-03-31.\r\n */\r\n\r\n\r\nimport {IDocumentService, IPromise, IQService, IRootScopeService} from \"angular\";\r\nimport {IStateService} from \"@types/angular-ui-router\";\r\nimport {translate} from \"angular\";\r\nimport ITranslateService = translate.ITranslateService;\r\n\r\n/*@ngInject*/\r\nexport default class HomeCtrl {\r\n\r\n    private initState: boolean;//是否第一次加载，用于collapse的BUG\r\n\r\n\r\n    isNavCollapsed: boolean;//collapse是否折叠\r\n    isNavTransparent: boolean;//导航条是否透明\r\n\r\n    /**\r\n     *\r\n     * @param $rootScope\r\n     * @param $document\r\n     * @param $q\r\n     * @param $translate\r\n     * @param $state\r\n     * @param navbar 导航条透明位置\r\n     */\r\n    constructor(private $rootScope: IRootScopeService,\r\n                private $document: IDocumentService,\r\n                private $q: IQService,\r\n                private $translate: ITranslateService,\r\n                private $state: IStateService,\r\n                private navbar) {\r\n\r\n        this.initState = true;\r\n        this.isNavCollapsed = true;\r\n        this.isNavTransparent = false;\r\n\r\n\r\n        this.isNavTransparent = document.body.scrollTop < navbar.headerHeight;\r\n\r\n        $document.bind(\"scroll\", () => {\r\n            this.changeNavBg();\r\n            $rootScope.$apply();\r\n        });\r\n\r\n        $rootScope.$on(\"$locationChangeStart\", () => {//路径变化时\r\n            this.isNavCollapsed = true;\r\n            this.changeNavBg();\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * collapse初始会自动执行一次，不知道啥原因，把自动执行的停止\r\n     * @returns {IPromise<{}>}\r\n     */\r\n    private isInit(): IPromise<{}> | void {\r\n        if (this.initState) {     //禁止执行\r\n            let deferred = this.$q.defer();\r\n            deferred.reject();\r\n            this.initState = false;\r\n            return deferred.promise;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 切换语言\r\n     */\r\n    switchLang(): void {\r\n        if (this.$rootScope.currentLang !== \"en-us\") {\r\n            this.$rootScope.currentLang = \"en-us\";\r\n        } else {\r\n            this.$rootScope.currentLang = \"zh-cn\";\r\n        }\r\n        this.$translate.use(this.$rootScope.currentLang).then(() => this.$state.reload())\r\n    }\r\n\r\n    /**\r\n     * 根据现在位置设置导航栏背景色\r\n     */\r\n    changeNavBg(): void {\r\n        if (document.body.scrollTop >= this.navbar.headerHeight && this.isNavTransparent) {\r\n            this.isNavTransparent = false;\r\n        } else if (document.body.scrollTop < this.navbar.headerHeight && !this.isNavTransparent) {\r\n            this.isNavTransparent = true;\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/components/home/HomeCtrl.ts","/**\r\n * Created by 米饭 on 2017-04-01.\r\n */\r\n\r\n\r\n/*@ngInject*/\r\nexport default class ArticleEditCtrl {\r\n\r\n    tags;\r\n\r\n    constructor(Restangular) {\r\n\r\n        Restangular.one(\"tags\").get().then((result) => {\r\n            this.tags = result;\r\n        }, function (err) {\r\n            console.error('加载tagList错误:' + err);\r\n        });\r\n    }\r\n\r\n    static tagging(tag) {\r\n        return {name: tag};\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/components/home/article/articleEdit/ArticleEditCtrl.ts","/**\r\n * Created by 米饭 on 2017-04-01.\r\n */\r\n\r\nimport {IStateParamsService} from \"@types/angular-ui-router\";\r\nimport ArticleLoadService from \"../../../../commons/ArticleLoad/ArticleLoadService\";\r\n\r\n/*@ngInject*/\r\nexport default class ArticleDetailCtrl {\r\n\r\n    loader: ArticleLoadService;\r\n\r\n    constructor($stateParams: IStateParamsService, ArticleLoadService: ArticleLoadService) {\r\n        ArticleLoadService.load($stateParams.articleId);\r\n        this.loader = ArticleLoadService;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/components/home/article/articleDetail/ArticleDetailCtrl.ts","/**\r\n * Created by 米饭 on 2017-04-02.\r\n */\r\n\r\nimport {IArticle, LoadState} from \"../../../../commons/ArticleLoad/articleLoad\";\r\nimport ArticleListLoadService from \"../../../../commons/ArticleLoad/ArticleListLoadService\";\r\nimport {IDocumentService} from \"angular\";\r\n\r\n\r\n\r\n/*@ngInject*/\r\nexport default class ArticleListCtrl {\r\n\r\n    loader: ArticleListLoadService;\r\n\r\n\r\n    constructor($uibPosition, $document: IDocumentService, ArticleListLoadService: ArticleListLoadService) {\r\n        this.loader = ArticleListLoadService;\r\n        this.loader.load();\r\n\r\n        let lastDate = 0;\r\n        $document.bind('scroll', () => {\r\n            let bottom = $uibPosition.viewportOffset(document.body).bottom;\r\n\r\n            //限制加载频率\r\n            let nowDate =  Date.now();\r\n            if(bottom > -300 && nowDate-lastDate > 500 && this.loader.loadState === LoadState.ready) {\r\n                lastDate = nowDate;\r\n                this.loader.load();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/components/home/article/articleList/ArticleListCtrl.ts","/**\r\n * Created by 米饭 on 2017-03-31.\r\n */\r\n\r\n\r\nimport * as angular from \"angular\";\r\nimport * as restangular from \"restangular\";\r\n\r\n/*@ngInject*/\r\nexport default function appRun(Restangular: restangular.IService,\r\n                               $translate: angular.translate.ITranslateService,\r\n                               localStorageService: angular.local.storage.ILocalStorageService,\r\n                               $rootScope: angular.IRootScopeService) {\r\n\r\n\r\n\r\n    Restangular.setBaseUrl('http://192.168.1.130:8080/myblog');\r\n\r\n    $rootScope.token = localStorageService.get('token');\r\n\r\n    $rootScope.$watch('token', function (newVal) {\r\n        Restangular.setDefaultHeaders({token: newVal});\r\n        localStorageService.set('token', newVal);\r\n    });\r\n\r\n\r\n    $rootScope.token = localStorageService.get('token');\r\n\r\n    $rootScope.$watch('token', function (newVal) {\r\n        Restangular.setDefaultHeaders({token: newVal});\r\n        localStorageService.set('token', newVal);\r\n    });\r\n\r\n    $rootScope.currentLang = localStorageService.get('currentLang') || 'zh-cn';\r\n\r\n    $rootScope.$watch('currentLang', function (newVal) {\r\n        if(newVal === null) {\r\n            return;\r\n        }\r\n        localStorageService.set('currentLang', newVal);\r\n\r\n        $translate.use($rootScope.currentLang);\r\n    });\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/scripts/appRun.ts"," /**\r\n * Created by 米饭 on 2017-03-15.\r\n */\r\n\r\n\r\nimport angular from 'angular'\r\n\r\n\r\nexport default angular.module('login', ['restangular'])\r\n    .controller('LoginCtrl', loginCtrl)\r\n    .name;\r\n\r\n\r\n /*@ngInject*/\r\nfunction loginCtrl($scope, Restangular) {\r\n    $scope.login = {};\r\n    $scope.submit = submit;\r\n\r\n    function submit() {\r\n        console.log($scope.login.password);\r\n\r\n        Restangular.one(\"users\").post('token', $scope.login).then(function (result) {\r\n\r\n        }, function(err){\r\n            console.error('登录失败:' + err.state);\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/components/home/login/login.js","/**\r\n * Created by 米饭 on 2017-03-08.\r\n */\r\n\r\n\r\nimport * as angular from \"angular\";\r\n\r\nimport ArticleDetailCtrl from './ArticleDetailCtrl';\r\n\r\nexport  default angular.module('articleDetail', ['restangular'])\r\n    .controller('ArticleDetailCtrl',  ArticleDetailCtrl)\r\n    .name;\r\n\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/components/home/article/articleDetail/articleDetail.ts","module.exports = __webpack_public_path__ + \"/languages/zh-cn.json\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/languages/zh-cn.json\n// module id = cw+6\n// module chunks = 0","module.exports = \"<div class=article-edit> <header class=\\\"jumbotron jumbotron-header\\\"> <h1></h1> </header> <div class=\\\"container-fluid content\\\"> <div class=row> <div class=\\\"col-sm-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2\\\"> <div class=editor-article data-ng-model=editorContent content-editable> </div> <ui-select class=tag-select ng-model=selected.value multiple=multiple limit=5 tagging=tagging tagging-label=(新建)> <ui-select-match placeholder=\\\"{{'最多选择五项'|translate}}\\\"> <span ng-bind=$item.name></span> </ui-select-match> <ui-select-choices repeat=\\\"tag in tags | filter: $select.search\\\"> <span ng-if=!tag.isTag ng-bind-html=\\\"tag.name | highlight: $select.search\\\"></span> <span ng-if=tag.isTag ng-bind-html=\\\"tag.name+' '+$select.taggingLabel\\\"></span> </ui-select-choices> </ui-select> <button class=\\\"btn btn-main submit-article\\\" translate>提交文章</button> <button class=\\\"btn btn-default submit-article\\\" translate>预览文章</button> </div> </div> </div> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/components/home/article/articleEdit/articleEdit.html\n// module id = eSIs\n// module chunks = 0","/**\r\n * Created by 米饭 on 2017-03-17.\r\n */\r\n\r\n\r\nimport angular = require('angular');\r\n\r\nimport articleList from './articleList/articleList';\r\nimport articleEdit from './articleEdit/articleEdit';\r\nimport articleDetail from './articleDetail/articleDetail';\r\n\r\nexport default angular.module('article', [articleList, articleEdit, articleDetail]).name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/components/home/article/article.ts","/**\r\n * Created by 米饭 on 2017-03-05.\r\n */\r\n\r\nimport * as angular from \"angular\";\r\n\r\nconst homeHtml: string = require(\"../components/home/home.html\");\r\nconst articleListHtml: string = require('../components/home/article/articleList/articleList.html');\r\nconst articleDetailHtml: string = require('../components/home/article/articleDetail/articleDetail.html');\r\nconst articleEditHtml: string = require('../components/home/article/articleEdit/articleEdit.html');\r\nconst tagListHtml: string = require('../components/home/tag/tagList.html');\r\nconst loginHtml: string = require('../components/home/login/login.html');\r\n\r\n/*@ngInject*/\r\nexport default function appRoute($stateProvider: angular.ui.IStateProvider,\r\n                                 $urlRouterProvider: angular.ui.IUrlRouterProvider) {\r\n\r\n    $urlRouterProvider.when('/home', '/home/articleList').otherwise('/home/articleList');\r\n    $stateProvider\r\n        .state('home', {\r\n            url: '/home',\r\n            template: homeHtml,\r\n            controller: 'HomeCtrl',\r\n            controllerAs: 'vm',\r\n            abstract: true\r\n        })\r\n        .state('home.articleList', {\r\n            url: '/articleList',\r\n            template: articleListHtml,\r\n            controller: 'ArticleListCtrl',\r\n            controllerAs: 'vm'\r\n        })\r\n        .state('home.articleDetail', {\r\n            url: '/articleDetail/{articleId:[0-9]{1,6}}',\r\n            template: articleDetailHtml,\r\n            controller: 'ArticleDetailCtrl',\r\n            controllerAs: 'vm'\r\n        })\r\n        .state('home.articleEdit', {\r\n            url: '/articleEdit',\r\n            template: articleEditHtml,\r\n            controller: 'ArticleEditCtrl',\r\n            controllerAs: 'vm'\r\n        })\r\n        .state('home.tagList', {\r\n            url: '/tagList',\r\n            template: tagListHtml\r\n            // controller: 'TagListCtrl'\r\n        })\r\n        .state('home.login', {\r\n            url: '/login',\r\n            template: loginHtml,\r\n            controller: 'LoginCtrl',\r\n            controllerAs: 'vm',\r\n            onEnter: enterLogin,\r\n            onExit: exitLogin\r\n        });\r\n\r\n    /*@ngInject*/\r\n    function enterLogin(navbar) {\r\n        navbar.headerHeight = -10000;//永不透明\r\n    }\r\n\r\n\r\n    /*@ngInject*/\r\n    function exitLogin(navbar) {\r\n        navbar.headerHeight = 350;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/scripts/appRoute.ts","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/styles/app.less\n// module id = l04R\n// module chunks = 0","/**\r\n * Created by 米饭 on 2017-03-05.\r\n */\r\n\r\n// import \"../../node_modules/bootstrap/less/bootstrap.less\"\r\nimport \"../styles/app.less\";\r\n\r\nimport * as angular from \"angular\";\r\n\r\nimport home from \"../components/home/home\";\r\nimport appConfig from \"./appConfig\";\r\nimport appRoute from \"./appRoute\";\r\nimport appRun from \"./appRun\";\r\n\r\nangular.module(\"myApp\", [\"pascalprecht.translate\", \"restangular\", \"ui.router\", \"LocalStorageModule\", home])\r\n    .config(appConfig)\r\n    .config(appRoute)\r\n    .run(appRun);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/scripts/app.ts","/**\r\n * Created by 米饭 on 2017-04-03.\r\n */\r\n\r\n\r\nimport * as angular from \"angular\";\r\nimport ArticleLoadService from \"./ArticleLoadService\";\r\nimport ArticleListLoadService from \"./ArticleListLoadService\";\r\n\r\nexport default angular.module(\"articleLoad\", [\"restangular\"])\r\n    .service(\"ArticleListLoadService\", ArticleListLoadService)\r\n    .service(\"ArticleLoadService\", ArticleLoadService)\r\n    .name;\r\n\r\n\r\n\r\nexport enum LoadState{\r\n    ready, loading, over\r\n}\r\n\r\n\r\n\r\nexport interface IArticle {\r\n    id: number;\r\n    title: string;\r\n    content: string;\r\n    author: string;\r\n    create: Date;\r\n    reprintedFrom: string;\r\n    clickCnt: number;\r\n    outline: string;\r\n    titleImg: string;\r\n    tags: Array<string>;\r\n}\r\n\r\n\r\n// export interface ITag {\r\n//     id: number;\r\n//     name: string;\r\n// }\n\n\n// WEBPACK FOOTER //\n// ./app/commons/ArticleLoad/articleLoad.ts","module.exports = __webpack_public_path__ + \"/languages/en-us.json\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/languages/en-us.json\n// module id = qtjg\n// module chunks = 0"],"sourceRoot":""}